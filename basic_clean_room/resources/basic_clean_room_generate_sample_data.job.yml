resources:
  jobs:
    generate_clean_room_sample_data:
      name: Basic Clean Room - Generate Sample Data

      parameters:
        - name: catalog_use
          default: ${var.catalog}
        - name: schema_use
          default: ${resources.schemas.basic_clean_room_schema.name}

      tasks:

        - task_key: generate_sample_data
          notebook_task:
            notebook_path: ../src/sample_data_generation/create sample data.ipynb
            source: WORKSPACE
            base_parameters:
              volume_use: "${resources.volumes.ncpdp_landing_volume.name}"
              volume_sub_path: "${var.volume_sub_path}"
              ncpdp_file_types: "${var.ncpdp_file_types}"
          max_retries: 3
          min_retry_interval_millis: 60000
          retry_on_timeout: true
          disable_auto_optimization: false
          environment_key: primary